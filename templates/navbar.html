{% load static %}
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container">
    <a class="navbar-brand" href="{% url 'home' %}">
      <img src="{% static 'images/techtales.jpg' %}" alt="" class="img-fluid rounded-circle" style="width: 60px; height: 60px; object-fit: cover;">
      <span>TechTales</span>
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarContent">
      <form class="form-inline my-2 my-lg-0 ml-auto" method="GET" action="{% url 'home' %}">
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text">
              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 32 32">
                <title>search</title>
                <path d="M32 30.586l-10.845-10.845c1.771-2.092 2.845-4.791 2.845-7.741 0-6.617-5.383-12-12-12s-12 5.383-12 12c0 6.617 5.383 12 12 12 2.949 0 5.649-1.074 7.741-2.845l10.845 10.845 1.414-1.414zM12 22c-5.514 0-10-4.486-10-10s4.486-10 10-10c5.514 0 10 4.486 10 10s-4.486 10-10 10z"></path>
              </svg>
            </span>
          </div>
          <input class="form-control" type="search" name="q" placeholder="Search for rooms..." aria-label="Search">
        </div>
      </form>
      <ul class="navbar-nav ml-auto">
        {% if request.user.is_authenticated %}
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <div class="avatar avatar--medium active mr-2">
              <img src="{{ request.user.bio.avatar.url }}" alt="" class="img-fluid rounded-circle" style="width: 60px; height:60px; object-fit: cover;">
            </div>
            <span>{{ request.user.username }}</span>
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="{% url 'profile' request.user.id %}">
              <i class="fa fa-user mr-2"></i>Profile
            </a>
            <a class="dropdown-item" href="{% url 'update-user' %}">
              <i class="fa fa-cog mr-2"></i>Settings
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="{% url 'logout' %}">
              <i class="fa fa-sign-out mr-2"></i>Logout
            </a>
          </div>
        </li>
        {% else %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'login' %}">
            <img src="{% static 'images/avatar.svg' %}" alt="Avatar" style="height: 40px;">
            <span>Login</span>
          </a>
        </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>
